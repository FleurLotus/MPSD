<Window x:Class="Common.WPF.UI.SplashScreenWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:sp="clr-namespace:Common.ViewModel.SplashScreen;assembly=Common.ViewModel"
        xmlns:ui="clr-namespace:Common.WPF.UI"

        x:ClassModifier="internal"
        d:DataContext="{d:DesignInstance Type=sp:SplashScreenViewModel, IsDesignTimeCreatable=False}"
        
        mc:Ignorable="d"
        Topmost="True"
        Background="Transparent" Opacity=".8"  AllowsTransparency="True"
        WindowStyle="None" WindowStartupLocation="CenterScreen" ResizeMode="NoResize" 
        ShowInTaskbar="False" SizeToContent="WidthAndHeight"
        MaxHeight="500" MaxWidth="500">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="..\Resources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid Margin="5">
        <Image Stretch="Uniform" Source="{Binding SourceUri}" />
        <Label VerticalAlignment="Bottom" HorizontalContentAlignment="Center" Margin="50,0,50,50" Content="{Binding Info}" 
               Visibility="{Binding ShowProgess, Converter={StaticResource nb2vConv}}" 
               Foreground="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type Window}}, Path=Background}"
               Background="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type Window}}, Path=Foreground}"
               />
        <ui:ProgressBar ShowPerCent="True" VerticalAlignment="Bottom" Margin="50,0,50,50" Maximum="100"
                        Value="{Binding CurrentValue}" Text="{Binding Info}" 
                        Visibility="{Binding ShowProgess, Converter={StaticResource b2vConv}}"
                        Foreground="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type Window}}, Path=Background}"
                        Background="{Binding RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type Window}}, Path=Foreground}"
               />
    </Grid>
</Window>
