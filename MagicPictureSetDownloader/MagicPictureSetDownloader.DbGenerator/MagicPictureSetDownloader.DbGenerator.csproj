<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net5.0-windows</TargetFramework>
    <AssemblyTitle>MagicPictureSetDownloader.DbGenerator</AssemblyTitle>
    <Product>MagicPictureSetDownloader.DbGenerator</Product>
    <OutputPath>bin\$(Configuration)\</OutputPath>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugType>full</DebugType>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
  </PropertyGroup>
  <PropertyGroup>
    <PreBuildEvent>
		call $(SolutionDir)SetBuildEnvironment.bat
		%ZIP% a -tzip "$(SolutionDir)MagicPictureSetDownloader.DbGenerator\MagicData.zip" "$(SolutionDir)MagicData.sqlite"
		%ZIP% a -tzip "$(SolutionDir)MagicPictureSetDownloader.DbGenerator\MagicPicture.zip" "$(SolutionDir)MagicPicture"</PreBuildEvent>
  </PropertyGroup>
  <PropertyGroup />
  <ItemGroup>
    <EmbeddedResource Include="MagicData.zip" />
    <EmbeddedResource Include="MagicPicture.zip" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="Common.SQLite" Version="7.0.0" />
    <PackageReference Include="Common.Zip" Version="7.0.0" />
  </ItemGroup>
  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Exec Command="del &quot;$(ProjectDir)MagicData.zip&quot;&#xD;&#xA;del &quot;$(ProjectDir)MagicPicture.zip&quot;" />
  </Target>
</Project>